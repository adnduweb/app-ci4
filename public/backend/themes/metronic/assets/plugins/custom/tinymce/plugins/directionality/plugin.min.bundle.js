(()=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(t)}!function(){"use strict";function t(t){return function(o){return n(o)===t}}function o(n){return function(){return n}}function r(n){return n}function e(){return d}var u,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=t("boolean"),f=t("function"),l=t("number"),m=o(!(u="string")),a=o(!0),d={fold:function(n,t){return n()},isSome:m,isNone:a,getOr:r,getOrThunk:s,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:s,map:e,each:function(){},bind:e,exists:m,forall:a,filter:function(){return d},toArray:function(){return[]},toString:o("none()")};function s(n){return n()}function g(n,t){for(var o=0,r=n.length;o<r;o++)t(n[o],o)}function h(n,t){var o=n.dom;if(1!==o.nodeType)return!1;var r=o;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function y(n){if(null==n)throw new Error("Node cannot be null or undefined");return{dom:n}}var p=function n(t){function r(){return i}function e(n){return n(t)}var u=o(t),i={fold:function(n,o){return o(t)},isSome:a,isNone:m,getOr:u,getOrThunk:u,getOrDie:u,getOrNull:u,getOrUndefined:u,or:r,orThunk:r,map:function(o){return n(o(t))},each:function(n){n(t)},bind:e,exists:e,forall:e,filter:function(n){return n(t)?i:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return i},v={some:p,none:e,from:function(n){return null==n?d:p(n)}},w={fromHtml:function(n,t){var o=(t||document).createElement("div");if(o.innerHTML=n,!o.hasChildNodes()||1<o.childNodes.length)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return y(o.childNodes[0])},fromTag:function(n,t){return y((t||document).createElement(n))},fromText:function(n,t){return y((t||document).createTextNode(n))},fromDom:y,fromPoint:function(n,t,o){return v.from(n.dom.elementFromPoint(t,o)).map(y)}};function b(n){return function(t){return t.dom.nodeType===n}}function S(t,o,r){!function(t,o,r){if(!(function(t){return r=n(o=t),(null===o?"null":"object"==r&&(Array.prototype.isPrototypeOf(o)||o.constructor&&"Array"===o.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(o)||o.constructor&&"String"===o.constructor.name)?"string":r)===u;var o,r}(r)||c(r)||l(r)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(o,r+"")}(t.dom,o,r)}function D(n,t){n.dom.removeAttribute(t)}function N(n){return w.fromDom(n.dom.host)}function T(n){return"rtl"===(o="direction",r=(t=n).dom,""!==(e=window.getComputedStyle(r).getPropertyValue(o))||P(t)?e:R(r,o))?"rtl":"ltr";var t,o,r,e}function O(n,t){var o=n.selection.getSelectedBlocks();0<o.length&&(g(o,(function(n){var o,r=w.fromDom(n),e=function(n){return C(n)&&"li"===n.dom.nodeName.toLowerCase()}(r),u=(o=r,(e?function(n,t,o){return function(o){for(var r=n.dom,e=f(o)?o:m;r.parentNode;){r=r.parentNode;var u=w.fromDom(r);if(h(u,t))return v.some(u);if(e(u))break}return v.none()}(o)}(o,"ol,ul"):v.some(o)).getOr(o));v.from(u.dom.parentNode).map(w.fromDom).filter(C).each((function(n){T(n)!==t?S(u,"dir",t):T(u)!==t&&D(u,"dir"),e&&g(function(n,t){return o=function(n){return h(n,t)},function(n,t){for(var o=[],r=0,e=n.length;r<e;r++){var u=n[r];t(u,r)&&o.push(u)}return o}(function(n,t){for(var o=n.length,r=new Array(o),e=0;e<o;e++){var u=n[e];r[e]=t(u,e)}return r}(n.dom.childNodes,w.fromDom),o);var o}(u,"li[dir]"),(function(n){return D(n,"dir"),0}))}))})),n.nodeChanged())}function A(n,t){return function(o){function r(n){var r=w.fromDom(n.element);o.setActive(T(r)===t)}return n.on("NodeChange",r),function(){return n.off("NodeChange",r)}}}"undefined"!=typeof window||Function("return this;")();var C=b(1),M=b(3),k=b(9),E=b(11),L=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)?function(n){return w.fromDom(n.dom.getRootNode())}:function(n){return k(n)?n:w.fromDom(n.dom.ownerDocument)},P=function n(t){var o=M(t)?t.dom.parentNode:t.dom;if(null==o||null===o.ownerDocument)return!1;var r,e,u,i,c,f=o.ownerDocument;return u=w.fromDom(o),c=L(u),(E(i=c)&&null!=i.dom.host?v.some(c):v.none()).fold((function(){return f.body.contains(o)}),(r=n,e=N,function(n){return r(e(n))}))},R=function(n,t){return void 0!==n.style&&f(n.style.getPropertyValue)?n.style.getPropertyValue(t):""};i.add("directionality",(function(n){var t,o;(t=n).addCommand("mceDirectionLTR",(function(){O(t,"ltr")})),t.addCommand("mceDirectionRTL",(function(){O(t,"rtl")})),(o=n).ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return o.execCommand("mceDirectionLTR")},onSetup:A(o,"ltr")}),o.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return o.execCommand("mceDirectionRTL")},onSetup:A(o,"rtl")})}))}()})();